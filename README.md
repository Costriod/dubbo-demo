# dubbo-demo源码阅读笔记（based on v2.6.2）

1.由于有一些接口没有Adaptive类，所以最终ExtensionLoader会自动为这些接口动态生成Adaptive类，前提条件是接口必须有SPI注解，同时某些方法上面必须有@Adaptive注解，因为没有@Adaptive注解的方法在动态类里面都会直接抛异常

2.由于Adaptive类调试不便，所以我自己在com.example.demo.autogen包下面把ExtensionLoader的createAdaptiveExtensionClassCode方法动态生成的类代码给导出来了，单独生成了一个类文件，并添加@Adaptive注解，最后放到META-INF下面让dubbo启动时自动扫描到，这样就有利于调试，反正一个接口只有一个Adaptive类，多了会抛异常

3.经实际测试，默认是failover策略，server端执行超时会导致客户端发送最多3次RPC请求，这里需要注意一下幂等性

4.在CodecSupport类内部会自动初始化一些Serialization类，这个是用来序列化与反序列化的，最多允许有32个，每个Serialization类都有一个唯一id，在DubboCountCodec解析消息的地方有用到，默认序列化方式是hessian2

5.消费者端执行远程调用，最终都会执行到HeaderExchangeChannel的request方法，在这里会返回一个DefaultFuture对象，通过这个对象get()方法能够返回RPC服务端的处理结果，具体处理流程需参考[ReferenceConfig客户端执行链分析](./ReferenceConfig客户端执行链分析.md)里面介绍的ReferenceConfig执行远程调用原理

### client端已补全整个处理执行链，也已经弄清楚消费者端与服务的多次RPC请求与响应如何保持一一对应关系
